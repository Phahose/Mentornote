@page
@model Mentornote.Pages.Functionalities.FlashCardsModel
@{
    Layout = "Navigation";
}
<div class="fg">
    <div class="header">
        <a href="/Preview?noteId=@Model.FlashcardSets[0].NoteId" class="back-btn">&larr;</a>
        <div>
            <h1>FlashCards</h1>
            <span class="module-info">
                <span class="created-date">Created @Model.FlashcardSets[0].CreatedAt</span>
                <a href="#" class="view-original">View Original</a>
            </span>
        </div>
    </div>
    <div class="flashcard-container">
        @for (int i = 0; i < Model.FlashcardSets.First().Flashcards.Count; i++)
        {
            var card = Model.FlashcardSets.First().Flashcards[i];
            <div class="flashcard @(i == 0 ? "active" : "")" data-index="@i" id="flashcard" onclick="this.classList.toggle('flipped')">
                <div class="front">
                    <h2>Question</h2>
                    <p>@card.Front</p>
                    <p>@(i + 1) of @Model.FlashcardSets.First().Flashcards.Count</p>
                </div>
                <div class="back">
                    <h2>Answer</h2>
                    <p>@card.Back</p>
                    <p>@(i + 1) of @Model.FlashcardSets.First().Flashcards.Count</p>
                </div>
            </div>
        }
    </div>

    <div class="controls">
        <button id="prev-btn" class="prev-btn">Previous</button>
        <button id="next-btn" class="next-btn">Next</button>
    </div>
</div>
<script>
    let currentIndex = 0;
    const flashcards = document.querySelectorAll(".flashcard");

    document.getElementById("next-btn").addEventListener("click", () => {
        flashcards[currentIndex].classList.remove("active");
        currentIndex = (currentIndex + 1) % flashcards.length;
        flashcards[currentIndex].classList.add("active");
    });

    document.getElementById("prev-btn").addEventListener("click", () => {
        flashcards[currentIndex].classList.remove("active");
        currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
        flashcards[currentIndex].classList.add("active");
    });

</script>
