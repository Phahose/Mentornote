@page
@model Mentornote.Pages.Shared.StartModel
@{
}
<div class="startpagecont">
    <nav>
        <ul class="startnav">
            <li class="startnavitem">
                <a class="startnavlink" href="~/">Notes</a>
            </li>
        </ul>
    </nav>
    <div class="start-con-holder">
        <h2>How Would You like to Begin</h2>
        <form name="start-form" method="post" class="start-form" enctype="multipart/form-data" onsubmit="return showLoadingBar();">
            @Html.AntiForgeryToken() <!-- Required for Razor Pages -->
            <div class="startform">
                <ul>
                    <li>
                        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Google" class="upload-logo"/>
                        <label for="UploadedNote">Upload File</label><br />
                        <input type="file"  name="UploadedNote" required>
                        <input type="submit" name="Submit" value="Upload" class="btn"/>
                    </li>
                    <li>
                        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Google" class="upload-logo" />
                        <label for="Videolink">Youtube Link</label><br />
                        <input type="text" id="Video" name="Videolink">
                        <input type="submit" name="Sumbit" value="Video Post" />
                    </li>
                </ul>
            </div>
        </form>
        <form name="Notesform" method="post" class="notes-form">
            @Html.AntiForgeryToken() <!-- Required for Razor Pages -->
            <div class="notes-cards-container">
                <p class="cont-head">My Notes</p>
                @foreach (var flashcardset in @Model.FlashcardSets)
                {
                    <div class="notes-cards">
                        <p class="note-title">@flashcardset.Title</p>
                        <input type="hidden" name="FlashCardSetId" value="@flashcardset.Id" />
                        <div class="notes-contols">
                            <a href="/Functionalities/FlashCards?flashcardSetId=@flashcardset.Id" class="notes-go">
                                Go
                            </a>
                            <button type="submit" name="Submit" value="Delete-@flashcardset.Id" class="notes-go delete-btn">Delete</button>
                        </div>
                    </div>
                }
                @if (Model.FlashcardSets.Count == 0)
                {                 
                    <p class="empty-list">You have no Notes Yet Lets Make Some!!</p>
                }
            </div>
        </form>
        
    </div>
</div>
<div id="overlay" style="display: none;">
    <div class="overlay-content">
        <p>Generating flashcards from your notes...</p>
        <div class="loading-bar">
            <div class="loading-bar-fill"></div>
        </div>
    </div>
</div>
<script>
    function showLoadingBar() {
        console.log('Blaawskcm')
        const overlay = document.getElementById("overlay");
        if (overlay) { 
            console.log('founfff')
            overlay.style.display = 'flex';
        } else {
            console.log("Overlay not found");
        }
        return true;
    }
</script>
