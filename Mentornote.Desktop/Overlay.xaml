<Window x:Class="Mentornote.Desktop.Overlay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MentorNote Overlay"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Width="{x:Static SystemParameters.PrimaryScreenWidth}"
        Height="{x:Static SystemParameters.PrimaryScreenHeight}">

    <!-- Root grid is transparent; click-through except where we set IsHitTestVisible="True" -->
    <Grid>

        <!-- transparent, click-through background -->
        <Rectangle Fill="Transparent" IsHitTestVisible="False"/>
        
        <!--<Rectangle Stroke="MediumPurple"
               StrokeThickness="10"
               RadiusX="12" RadiusY="12"
               IsHitTestVisible="False"/>-->
       
        <!-- === Listening Card (top-left) === -->
        <Border x:Name="ListeningSection"
                Width="300" Height="100"
                CornerRadius="20"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="60,60,0,0"
                Background="#1a1c1b"  
                Visibility="Collapsed"

                IsHitTestVisible="True">
            <StackPanel Margin="20"
                       >
                <TextBlock x:Name="RecordingCheck"
                           Text="🎧  Listening..."
                           Foreground="Purple"
                           FontWeight="Bold"
                           FontSize="16"/>
                <ProgressBar IsIndeterminate="True"
                             Height="4"
                             Foreground="MediumPurple"
                             Margin="0,10,0,0"/>
            </StackPanel>
        </Border>

        <!-- === Suggestion Card (center-right) === -->
        <Border Width="480"
                CornerRadius="20"
                HorizontalAlignment="Right"
                VerticalAlignment="top"
                Margin="0,150,60,0"
                Background="#1a1c1b"
               
                IsHitTestVisible="True">
            <StackPanel Margin="20">
                <TextBlock x:Name="RecordedText"
                           Text=""
                           Foreground="white"
                           FontWeight="Bold"
                           FontSize="14"
                           Margin="0,0,0,4"/>
                <TextBlock Text="Here to Help!"
                           Foreground="MediumPurple"
                           FontSize="18"
                           TextWrapping="Wrap"/>

                <TextBlock x:Name="StatementText"
                           Text=""
                           Foreground="Yellow"
                           FontSize="18"
                           Margin="0,10,0,4"
                           HorizontalAlignment="Left"
                           TextWrapping="Wrap"/>
                

                <TextBlock x:Name="SuggestionText"
                           Text=""
                           Foreground="white"
                           FontSize="18"
                           Margin="0,10,0,4"
                           HorizontalAlignment="Right"
                           TextWrapping="Wrap"/>
                
                <Button x:Name="ApplySuggestionButton"
                        Content="Suggest Reply"
                        Width="140"
                        Height="36"
                        Background="MediumPurple"
                        Margin="0,10,0,0"
                        Foreground="White"
                        FontWeight="Bold"
                        HorizontalAlignment="Center"
                        Click="Suggestion_Click"/> 
            </StackPanel>
        </Border>

        <!-- === Bottom Controls (mic + close) === -->
        <StackPanel Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Margin="0,0,0,40"
                    IsHitTestVisible="True">
            <Button Content="🎧"
                    Width="60" Height="60"
                    Background="#22FFFFFF"
                    BorderBrush="Transparent"
                    FontSize="26"
                    Foreground="MediumPurple"
                    Click="Mic_Click"/>
            <Button Content="❌"
                    Width="60" Height="60"
                    Margin="12,0,0,0"
                    Background="#22FFFFFF"
                    BorderBrush="Transparent"
                    FontSize="24"
                    Foreground="Red"
                    Click="Close_Click"/>
        </StackPanel>

    </Grid>
</Window>
